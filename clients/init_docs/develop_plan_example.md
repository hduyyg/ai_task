# 需求内容（强制）

> 记录当前任务的完整需求描述，每次执行需根据用户反馈持续补充完善。

## 任务目标

[一句话描述任务目标]

## 功能要点

- [ ] [功能点1]
- [ ] [功能点2]
- [ ] [功能点3]

## 约束条件

- [约束1]
- [约束2]

---

# 方案简述（强制）

> 用一句话简述方案思路。

[一句话描述方案核心思路]

---

# 方案详述（强制）

> 详细说明技术方案实现。
>
> 格式要求：
> - 按模块/接口分段描述
> - 每个模块包含：功能说明、核心逻辑（可用伪代码）、边界处理
> - 提供伪代码即可，不要提供大量复杂代码

## [模块/接口名称1]

**功能说明**: [描述]

**核心逻辑**:
```
[伪代码或流程说明]
```

**边界处理**: [异常情况如何处理]

## [模块/接口名称2]

...

---

# 平滑发布与回滚（强制）

> 本方案能否随时回滚到旧版本？

- 能 → 回答"是"
- 不能 → 说明原因和处理方案

---

# 外部交互

> 如涉及 HTTP/RPC 接口变更，列出接口变化说明。无变更可删除此章节。

示例：

**接口变化：**

1. GET /pvc/query

   响应新增字段:

```json
{
  "pvc_names": ["pvc-name-1", "pvc-name-2"]
}
```

---

# 数据库变更

> 如涉及数据库变更，给出变更语句和存储影响评估。无变更可删除此章节。

| sql 变更语句 |
| ------------ |
| ALTER TABLE `db`.`table` ADD COLUMN `col` VARCHAR(45) NULL; |

| 数据库表 | 单条记录新增存储(byte) |
| -------- | ---------------------- |
| table    | [评估值及计算过程] |

---

# 风险（强制）

> 按风险程度由高到低列举当前方案可能存在的风险。

| 风险程度 | 风险描述 | 影响范围 | 应对措施 |
|----------|----------|----------|----------|
| 高/中/低 | [描述] | [影响范围] | [措施] |

---

# 人工测试（强制）

> 列出需要执行的测试用例，必须包含正常场景和异常场景。

| 场景类型 | 测试场景 | 操作步骤 | 预期结果 |
|----------|----------|----------|----------|
| 正常 | [场景描述] | [步骤] | [预期] |
| 异常 | [场景描述] | [步骤] | [预期] |

---

# 可观测（可选）

> 仅当涉及新功能上线时填写。说明如何观测功能上线后的运行情况。

| 观测目标 | 观测方式 | 示例 |
|----------|----------|------|
| 使用次数 | 数据库查询 | SELECT COUNT(*) FROM table WHERE ... |
| 异常监控 | 日志搜索 | 搜索关键词 "ERROR xxx" |
